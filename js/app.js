            if ( ! Detector.webgl ) Detector.addGetWebGLMessage();

            var effectFXAA, particleMaterial_a, particleMaterial_b;
			var line, container, particles;
        
            var curve_num_points = 50;
            
            var terrainSize = 30; // in km

            var projection = d3.geo.transverseMercator()
                .translate([terrainSize / 2, terrainSize / 2])
                .scale(terrainSize * 1200.2)
                .rotate([0, 0, 0])
                .center([2.666463, 52.1410]);  
                      
            var camera, controls, scene, renderer, composer;

			function init() {
                
				var separation = 100, amountX = 50, amountY = 50,
				particles, particle;

				container = document.getElementById('container');
				document.body.appendChild(container);

                camera = new THREE.PerspectiveCamera( 20, window.innerWidth / window.innerHeight, 1, 1000 );
                camera.position.z = 400;
                camera.position.x = -100;
                camera.position.y = 300;

                controls = new THREE.OrbitControls( camera );
                controls.addEventListener( 'change', render );
                
				scene = new THREE.Scene();
				
                renderer = new THREE.WebGLRenderer({ 
                    antialias: true, 
                    alpha: true, 
                    transparent: true 
                });
				renderer.setSize( window.innerWidth, window.innerHeight );
                renderer.autoClear = false;
                
				container.appendChild( renderer.domElement );
                
                //
                particleMaterial_primary = new THREE.ParticleBasicMaterial({
                     color: 0xFFffff, 
                     size: 5 
                 });
                
               particleMaterial_secondary = new THREE.ParticleBasicMaterial({
                    color: 0xFF7300, 
                    size: 4 
                });   
                
                stats = new Stats();
				stats.domElement.style.position = 'absolute';
				stats.domElement.style.top = '0px';
				container.appendChild( stats.domElement );
                
                // Draw ground
                var ground_texture = new THREE.ImageUtils.loadTexture("img/map.png");
                
                var ground = new THREE.Mesh(
                    new THREE.PlaneGeometry(197, 197, 10, 10),
                    new THREE.MeshBasicMaterial({ 
                        opacity: 0.5, 
                        transparent: true, 
                        map: ground_texture
                    })
                );               
				
                ground.rotation.x = -Math.PI/2;
                ground.position.y = -0.5;
                scene.add(ground);
               
                draw_particles();
//                draw_debug_axes();
                
                // 
                
                var renderModel = new THREE.RenderPass( scene, camera );
                var effectBloom = new THREE.BloomPass( 1.5 );
                var effectCopy = new THREE.ShaderPass( THREE.CopyShader );

                effectFXAA = new THREE.ShaderPass( THREE.FXAAShader );

                var width = window.innerWidth || 2;
                var height = window.innerHeight || 2;

                effectFXAA.uniforms[ 'resolution' ].value.set( 1 / width, 1 / height );

                effectCopy.renderToScreen = true;

                composer = new THREE.EffectComposer( renderer );

                composer.addPass( renderModel );
                composer.addPass( effectFXAA );
                composer.addPass( effectBloom );
                composer.addPass( effectCopy );
            }
			//

			function animate() {
                
                controls.update();
                
				requestAnimationFrame( animate );               
				render();
                
                stats.update();
			}

			function render() {
                 renderer.clear();
                 composer.render();
			}
        
            function draw_particles() {
                
                // Kazernes
                draw_particle(52.003719,4.351467, particleMaterial_primary); // Delft
                draw_particle(52.046561,4.333806,particleMaterial_primary); // Rijswijk
                
                draw_particle(52.087678,4.299481,particleMaterial_primary); // Archipel
                draw_particle(52.074408,4.294377,particleMaterial_primary); // Centrum
                draw_particle(52.053482,4.257212,particleMaterial_primary); // Loosduinen
                draw_particle(52.102088,4.273630,particleMaterial_primary); // Scheveningen
                draw_particle(52.066105,4.316801,particleMaterial_primary); // Laak
                draw_particle(52.086673,4.355682,particleMaterial_primary); // Haagse Hout
                draw_particle(52.055914,4.395454,particleMaterial_primary); // Leidschenveen
                draw_particle(52.057239,4.309762,particleMaterial_primary); // Escamp
                
                draw_particle(52.088083,4.376282,particleMaterial_primary); // Leidschendam-Voorburg
                
                draw_particle(51.934837,4.270290,particleMaterial_primary); // Maasland
                draw_particle(51.979200,4.319428,particleMaterial_primary); // Schipluiden
                draw_particle(51.998991,4.328515,particleMaterial_primary); // Den Hoorn
                
                draw_particle(52.019677,4.425876,particleMaterial_primary); // Pijnacker-Nootdorp
                
                draw_particle(52.145140,4.398264,particleMaterial_primary); // Wassenaar               
               
                draw_particle(52.022115,4.275502,particleMaterial_primary); // Wateringen
                draw_particle(52.009062,4.220678,particleMaterial_primary); // Honselersdijk
                draw_particle(51.990647,4.202112,particleMaterial_primary); // Naaldwijk
                draw_particle(51.960770,4.207633,particleMaterial_primary); // Maasdijk
                draw_particle(51.972754,4.254530,particleMaterial_primary); // De Lier
                draw_particle(51.996098,4.178567,particleMaterial_primary); // 's-Gravenzande
                draw_particle(52.021847,4.180934,particleMaterial_primary); // Monster
                
                draw_particle(52.062057,4.487701,particleMaterial_primary); // Stadshart
                draw_particle(52.054025,4.526690,particleMaterial_primary); // Oosterheem
                
                
                // Meldingen                
draw_line(52.087678,4.299481,52.0704,4.31485);
draw_line(52.087678,4.299481,52.0759,4.29793);
draw_line(52.087678,4.299481,52.0868,4.29703);
draw_line(52.087678,4.299481,52.0703,4.27928);
draw_line(52.087678,4.299481,52.073,4.2888);
draw_line(52.087678,4.299481,52.0908,4.32096);
draw_line(52.087678,4.299481,52.1064,4.31386);
draw_line(52.087678,4.299481,52.1022,4.29587);
draw_line(52.087678,4.299481,52.0575,4.4038);
draw_line(52.087678,4.299481,52.08,4.32771);
draw_line(52.087678,4.299481,52.0766,4.2568);
draw_line(52.087678,4.299481,52.0846,4.32707);
draw_line(52.087678,4.299481,52.0778,4.29756);
draw_line(52.087678,4.299481,52.0742,4.28554);
draw_line(52.087678,4.299481,52.0766,4.30356);
draw_line(52.074408,4.294377,52.0696,4.28695);
draw_line(52.074408,4.294377,52.0637,4.28326);
draw_line(52.074408,4.294377,52.0686,4.28386);
draw_line(52.074408,4.294377,52.0724,4.28785);
draw_line(52.074408,4.294377,52.062,4.29623);
draw_line(52.074408,4.294377,52.093,4.26223);
draw_line(52.074408,4.294377,52.0704,4.31485);
draw_line(52.074408,4.294377,52.0702,4.31572);
draw_line(52.074408,4.294377,52.0714,4.27214);
draw_line(52.074408,4.294377,52.0652,4.28374);
draw_line(52.074408,4.294377,52.0665,4.29628);
draw_line(52.074408,4.294377,52.0574,4.29543);
draw_line(52.074408,4.294377,52.0694,4.29796);
draw_line(52.074408,4.294377,52.0749,4.27288);
draw_line(52.074408,4.294377,52.0683,4.28915);
draw_line(52.074408,4.294377,52.0699,4.28511);
draw_line(52.074408,4.294377,52.0683,4.28915);
draw_line(52.074408,4.294377,52.0743,4.26901);
draw_line(52.074408,4.294377,52.0726,4.29569);
draw_line(52.074408,4.294377,52.0627,4.29539);
draw_line(52.074408,4.294377,52.0693,4.30984);
draw_line(52.074408,4.294377,52.062,4.29623);
draw_line(52.074408,4.294377,52.062,4.29623);
draw_line(52.074408,4.294377,52.0778,4.29756);
draw_line(52.074408,4.294377,52.0799,4.29391);
draw_line(52.074408,4.294377,52.0707,4.31075);
draw_line(52.074408,4.294377,52.0609,4.29477);
draw_line(52.074408,4.294377,52.0631,4.29631);
draw_line(52.074408,4.294377,52.0705,4.3007);
draw_line(52.074408,4.294377,52.0733,4.31224);
draw_line(52.074408,4.294377,52.0699,4.30039);
draw_line(52.074408,4.294377,52.0693,4.3138);
draw_line(52.074408,4.294377,52.073,4.27869);
draw_line(52.074408,4.294377,52.0713,4.27946);
draw_line(52.074408,4.294377,52.0632,4.29255);
draw_line(52.074408,4.294377,52.062,4.29623);
draw_line(52.074408,4.294377,52.0761,4.29456);
draw_line(52.074408,4.294377,52.0723,4.29395);
draw_line(52.074408,4.294377,52.068,4.27514);
draw_line(52.074408,4.294377,52.0746,4.31119);
draw_line(52.074408,4.294377,52.0687,4.28337);
draw_line(52.074408,4.294377,52.0609,4.29509);
draw_line(52.074408,4.294377,52.0702,4.28655);
draw_line(52.074408,4.294377,52.0624,4.29463);
draw_line(52.074408,4.294377,52.0625,4.29293);
draw_line(52.074408,4.294377,52.0693,4.28445);
draw_line(52.074408,4.294377,52.0686,4.27044);
draw_line(52.074408,4.294377,52.0697,4.30921);
draw_line(52.074408,4.294377,52.0699,4.27886);
draw_line(52.074408,4.294377,52.0675,4.27656);
draw_line(52.074408,4.294377,52.0728,4.28894);
draw_line(52.074408,4.294377,52.0637,4.28326);
draw_line(52.074408,4.294377,52.07,4.30216);
draw_line(52.074408,4.294377,52.0659,4.31082);
draw_line(52.074408,4.294377,52.0871,4.3077);
draw_line(52.074408,4.294377,52.0668,4.29361);
draw_line(52.074408,4.294377,52.0873,4.34574);
draw_line(52.074408,4.294377,52.0702,4.31572);
draw_line(52.074408,4.294377,52.0625,4.2977);
draw_line(52.074408,4.294377,52.0775,4.32135);
draw_line(52.074408,4.294377,52.0692,4.28905);
draw_line(52.074408,4.294377,52.0674,4.27547);
draw_line(52.074408,4.294377,52.068,4.30121);
draw_line(52.074408,4.294377,52.0714,4.31181);
draw_line(52.074408,4.294377,52.0665,4.27086);
draw_line(52.074408,4.294377,52.0736,4.29707);
draw_line(52.074408,4.294377,52.0631,4.29631);
draw_line(52.074408,4.294377,52.0743,4.26901);
draw_line(52.074408,4.294377,52.0681,4.31332);
draw_line(52.074408,4.294377,52.063,4.28879);
draw_line(52.074408,4.294377,52.0703,4.2986);
draw_line(52.074408,4.294377,52.062,4.29449);
draw_line(52.074408,4.294377,52.0683,4.28915);
draw_line(52.074408,4.294377,52.0748,4.2864);
draw_line(52.074408,4.294377,52.073,4.27869);
draw_line(52.074408,4.294377,52.0821,4.2811);
draw_line(52.074408,4.294377,52.0707,4.27184);
draw_line(52.074408,4.294377,52.0817,4.32492);
draw_line(52.074408,4.294377,52.0771,4.27991);
draw_line(52.074408,4.294377,52.0817,4.32492);
draw_line(52.074408,4.294377,52.0821,4.2811);
draw_line(52.074408,4.294377,52.0669,4.29659);
draw_line(52.074408,4.294377,52.0706,4.27532);
draw_line(52.074408,4.294377,52.0706,4.27532);
draw_line(52.074408,4.294377,52.0729,4.26464);
draw_line(52.074408,4.294377,52.0801,4.28262);
draw_line(52.074408,4.294377,52.0636,4.2889);
draw_line(52.074408,4.294377,52.0705,4.3007);
draw_line(52.057239,4.309762,52.0597,4.32329);
draw_line(52.057239,4.309762,52.0574,4.32648);
draw_line(52.057239,4.309762,52.0433,4.2918);
draw_line(52.057239,4.309762,52.0599,4.32493);
draw_line(52.057239,4.309762,52.068,4.33091);
draw_line(52.057239,4.309762,52.0641,4.32381);
draw_line(52.057239,4.309762,52.06,4.30103);
draw_line(52.057239,4.309762,52.0714,4.32652);
draw_line(52.057239,4.309762,52.0653,4.34098);
draw_line(52.057239,4.309762,52.0683,4.3279);
draw_line(52.057239,4.309762,52.0547,4.32077);
draw_line(52.057239,4.309762,52.0639,4.30726);
draw_line(52.057239,4.309762,52.0484,4.27403);
draw_line(52.057239,4.309762,52.0554,4.30447);
draw_line(52.057239,4.309762,52.0573,4.26489);
draw_line(52.057239,4.309762,52.0687,4.32698);
draw_line(52.057239,4.309762,52.0613,4.30159);
draw_line(52.057239,4.309762,52.0636,4.32492);
draw_line(52.057239,4.309762,52.0691,4.31531);
draw_line(52.057239,4.309762,52.0672,4.31333);
draw_line(52.057239,4.309762,52.066,4.3259);
draw_line(52.057239,4.309762,52.068,4.33091);
draw_line(52.057239,4.309762,52.0613,4.29989);
draw_line(52.057239,4.309762,52.0493,4.29474);
draw_line(52.057239,4.309762,52.0438,4.37165);
draw_line(52.057239,4.309762,52.0547,4.32075);
draw_line(52.057239,4.309762,52.0638,4.32658);
draw_line(52.057239,4.309762,52.061,4.30159);
draw_line(52.057239,4.309762,52.0396,4.2955);
draw_line(52.057239,4.309762,52.0812,4.38639);
draw_line(52.057239,4.309762,52.06,4.30103);
draw_line(52.057239,4.309762,52.0452,4.29087);
draw_line(52.057239,4.309762,52.0573,4.26489);
draw_line(52.057239,4.309762,52.0543,4.30793);
draw_line(52.057239,4.309762,52.0639,4.30699);
draw_line(52.057239,4.309762,52.046,4.29238);
draw_line(52.057239,4.309762,52.0432,4.29209);
draw_line(52.057239,4.309762,52.0596,4.31488);
draw_line(52.057239,4.309762,52.0534,4.29377);
draw_line(52.057239,4.309762,52.0553,4.31905);
draw_line(52.057239,4.309762,52.0565,4.31325);
draw_line(52.057239,4.309762,52.0452,4.29087);
draw_line(52.057239,4.309762,52.0694,4.29265);
draw_line(52.057239,4.309762,52.0669,4.29659);
draw_line(52.057239,4.309762,52.0573,4.32497);
draw_line(52.057239,4.309762,52.0468,4.29495);
draw_line(52.057239,4.309762,52.0504,4.30712);
draw_line(52.057239,4.309762,52.0714,4.32652);
draw_line(52.057239,4.309762,52.0456,4.28145);
draw_line(52.057239,4.309762,52.0509,4.30292);
draw_line(52.057239,4.309762,52.0628,4.28421);
draw_line(52.057239,4.309762,52.0639,4.30726);
draw_line(52.057239,4.309762,52.062,4.32267);
draw_line(52.057239,4.309762,52.0554,4.30447);
draw_line(52.057239,4.309762,52.0573,4.33976);
draw_line(52.057239,4.309762,52.0554,4.30447);
draw_line(52.057239,4.309762,52.0627,4.33349);
draw_line(52.057239,4.309762,52.0705,4.3007);
draw_line(52.057239,4.309762,52.0424,4.2794);
draw_line(52.057239,4.309762,52.0655,4.31777);
draw_line(52.057239,4.309762,52.0621,4.30165);
draw_line(52.057239,4.309762,52.0633,4.29968);
draw_line(52.057239,4.309762,52.0641,4.3066);
draw_line(52.057239,4.309762,52.064,4.30227);
draw_line(52.057239,4.309762,52.0612,4.30224);
draw_line(52.057239,4.309762,52.0691,4.31531);
draw_line(52.057239,4.309762,52.0655,4.31777);
draw_line(52.057239,4.309762,52.0566,4.32236);
draw_line(52.057239,4.309762,52.069,4.2935);
draw_line(52.057239,4.309762,52.0613,4.33526);
draw_line(52.057239,4.309762,52.0627,4.31921);
draw_line(52.057239,4.309762,52.0679,4.3283);
draw_line(52.057239,4.309762,52.0454,4.29132);
draw_line(52.057239,4.309762,52.0545,4.30507);
draw_line(52.057239,4.309762,52.0684,4.31576);
draw_line(52.057239,4.309762,52.064,4.2827);
draw_line(52.057239,4.309762,52.0607,4.29882);
draw_line(52.057239,4.309762,52.0665,4.31024);
draw_line(52.057239,4.309762,52.0789,4.32868);
draw_line(52.057239,4.309762,52.0643,4.33486);
draw_line(52.057239,4.309762,52.0618,4.28422);
draw_line(52.057239,4.309762,52.0612,4.29651);
draw_line(52.057239,4.309762,52.0587,4.29788);
draw_line(52.057239,4.309762,52.062,4.28026);
draw_line(52.057239,4.309762,52.0612,4.29651);
draw_line(52.057239,4.309762,52.0612,4.29234);
draw_line(52.057239,4.309762,52.0264,4.30385);
draw_line(52.057239,4.309762,52.0601,4.31237);
draw_line(52.057239,4.309762,52.0644,4.33333);
draw_line(52.057239,4.309762,52.0548,4.31144);
draw_line(52.057239,4.309762,52.0533,4.31691);
draw_line(52.057239,4.309762,52.0512,4.29859);
draw_line(52.057239,4.309762,52.0533,4.2939);
draw_line(52.057239,4.309762,52.0711,4.32309);
draw_line(52.057239,4.309762,52.0536,4.31345);
draw_line(52.057239,4.309762,52.0711,4.32309);
draw_line(52.057239,4.309762,52.0483,4.33324);
draw_line(52.057239,4.309762,52.0456,4.29162);
draw_line(52.057239,4.309762,52.0457,4.29387);
draw_line(52.057239,4.309762,52.0594,4.29709);
draw_line(52.057239,4.309762,52.06,4.31975);
draw_line(52.057239,4.309762,52.0576,4.32884);
draw_line(52.057239,4.309762,52.0711,4.31001);
draw_line(52.057239,4.309762,52.0509,4.27928);
draw_line(52.057239,4.309762,52.067,4.311);
draw_line(52.057239,4.309762,52.0612,4.32131);
draw_line(52.057239,4.309762,52.0541,4.30546);
draw_line(52.086673,4.355682,52.079,4.3308);
draw_line(52.086673,4.355682,52.0852,4.34868);
draw_line(52.086673,4.355682,52.0828,4.36183);
draw_line(52.086673,4.355682,52.0763,4.34097);
draw_line(52.086673,4.355682,52.0763,4.34097);
draw_line(52.086673,4.355682,52.0756,4.34479);
draw_line(52.086673,4.355682,52.0742,4.34571);
draw_line(52.086673,4.355682,52.0766,4.34222);
draw_line(52.086673,4.355682,52.0773,4.31905);
draw_line(52.086673,4.355682,52.0476,4.40412);
draw_line(52.086673,4.355682,52.0618,4.38984);
draw_line(52.086673,4.355682,52.0869,4.34076);
draw_line(52.086673,4.355682,52.0796,4.33142);
draw_line(52.086673,4.355682,52.093,4.36797);
draw_line(52.086673,4.355682,52.0928,4.36749);
draw_line(52.086673,4.355682,52.0882,4.34507);
draw_line(52.086673,4.355682,52.0914,4.39207);
draw_line(52.055914,4.395454,52.0446,4.37073);
draw_line(52.055914,4.395454,52.0332,4.3629);
draw_line(52.055914,4.395454,52.0789,4.33736);
draw_line(52.055914,4.395454,52.0646,4.39285);
draw_line(52.055914,4.395454,52.0466,4.3751);
draw_line(52.055914,4.395454,52.0478,4.38078);
draw_line(52.055914,4.395454,52.0307,4.37768);
draw_line(52.055914,4.395454,52.0783,4.34973);
draw_line(52.055914,4.395454,52.0438,4.37165);
draw_line(52.055914,4.395454,52.0438,4.37165);
draw_line(52.055914,4.395454,52.0612,4.39367);
draw_line(52.055914,4.395454,52.0621,4.39101);
draw_line(52.055914,4.395454,52.0335,4.37862);
draw_line(52.055914,4.395454,52.0628,4.38878);
draw_line(52.055914,4.395454,52.0705,4.3007);
draw_line(52.055914,4.395454,52.0702,4.51499);
draw_line(52.055914,4.395454,52.072,4.49446);
draw_line(52.055914,4.395454,52.0339,4.38016);
draw_line(52.055914,4.395454,52.0339,4.38016);
draw_line(52.055914,4.395454,52.06,4.4127);
draw_line(52.055914,4.395454,52.0581,4.50611);
draw_line(52.055914,4.395454,52.0679,4.41236);
draw_line(52.055914,4.395454,52.0486,4.38249);
draw_line(52.055914,4.395454,52.0644,4.3926);
draw_line(52.055914,4.395454,52.0771,4.34234);
draw_line(52.055914,4.395454,52.0462,4.38277);
draw_line(52.055914,4.395454,52.0715,4.35669);
draw_line(52.055914,4.395454,52.0632,4.54347);
draw_line(52.055914,4.395454,52.0983,4.40686);
draw_line(52.055914,4.395454,52.0433,4.37238);
draw_line(52.055914,4.395454,52.0958,4.39695);
draw_line(52.055914,4.395454,52.0679,4.41236);
draw_line(52.055914,4.395454,52.0633,4.47607);
draw_line(52.055914,4.395454,52.0846,4.39768);
draw_line(52.055914,4.395454,52.0609,4.39583);
draw_line(52.055914,4.395454,52.0646,4.41508);
draw_line(52.055914,4.395454,52.0685,4.41263);
draw_line(52.053482,4.257212,52.0535,4.25721);
draw_line(52.053482,4.257212,52.0799,4.31674);
draw_line(52.053482,4.257212,52.0284,4.25387);
draw_line(52.053482,4.257212,52.0416,4.26793);
draw_line(52.053482,4.257212,52.062,4.29623);
draw_line(52.053482,4.257212,52.061,4.26702);
draw_line(52.053482,4.257212,52.0568,4.26072);
draw_line(52.053482,4.257212,52.0544,4.24217);
draw_line(52.053482,4.257212,52.0519,4.26871);
draw_line(52.053482,4.257212,52.0468,4.26144);
draw_line(52.053482,4.257212,52.0527,4.27712);
draw_line(52.053482,4.257212,52.0441,4.25343);
draw_line(52.053482,4.257212,52.0619,4.27259);
draw_line(52.053482,4.257212,52.0441,4.27681);
draw_line(52.053482,4.257212,52.0376,4.26503);
draw_line(52.053482,4.257212,52.0831,4.31002);
draw_line(52.053482,4.257212,52.061,4.27492);
draw_line(52.053482,4.257212,52.0493,4.29474);
draw_line(52.053482,4.257212,52.061,4.27492);
draw_line(52.053482,4.257212,52.0402,4.25105);
draw_line(52.053482,4.257212,52.0438,4.25329);
draw_line(52.053482,4.257212,52.0553,4.27437);
draw_line(52.053482,4.257212,52.061,4.26702);
draw_line(52.053482,4.257212,52.0458,4.28525);
draw_line(52.053482,4.257212,52.0715,4.24076);
draw_line(52.053482,4.257212,52.0474,4.27315);
draw_line(52.053482,4.257212,52.0321,4.26265);
draw_line(52.053482,4.257212,52.0453,4.20934);
draw_line(52.053482,4.257212,52.0331,4.28224);
draw_line(52.053482,4.257212,52.0606,4.27354);
draw_line(52.053482,4.257212,52.0573,4.26489);
draw_line(52.053482,4.257212,52.0656,4.27018);
draw_line(52.053482,4.257212,52.058,4.24311);
draw_line(52.053482,4.257212,52.0518,4.25801);
draw_line(52.053482,4.257212,52.065,4.27889);
draw_line(52.053482,4.257212,52.0565,4.27133);
draw_line(52.053482,4.257212,52.05,4.27115);
draw_line(52.053482,4.257212,52.0596,4.27177);
draw_line(52.053482,4.257212,52.0628,4.27099);
draw_line(52.053482,4.257212,52.0725,4.26697);
draw_line(52.053482,4.257212,52.0317,4.27612);
draw_line(52.053482,4.257212,52.0417,4.25127);
draw_line(52.053482,4.257212,52.0352,4.26645);
draw_line(52.053482,4.257212,52.0533,4.25383);
draw_line(52.053482,4.257212,52.0437,4.2788);
draw_line(52.053482,4.257212,52.0381,4.26831);
draw_line(52.053482,4.257212,52.0571,4.22758);
draw_line(52.053482,4.257212,52.0485,4.27167);
draw_line(52.053482,4.257212,52.0635,4.24629);
draw_line(52.053482,4.257212,52.0331,4.28224);
draw_line(52.053482,4.257212,52.0328,4.28563);
draw_line(52.053482,4.257212,52.0635,4.24629);
draw_line(52.053482,4.257212,52.0629,4.25369);
draw_line(52.053482,4.257212,52.0588,4.23521);
draw_line(52.053482,4.257212,52.035,4.25942);
draw_line(52.053482,4.257212,52.0616,4.2566);
draw_line(52.053482,4.257212,52.0611,4.27391);
draw_line(52.053482,4.257212,52.0341,4.25807);
draw_line(52.053482,4.257212,52.046,4.26037);
draw_line(52.053482,4.257212,52.043,4.26606);
draw_line(52.053482,4.257212,52.061,4.26702);
draw_line(52.053482,4.257212,52.0301,4.28294);
draw_line(52.053482,4.257212,52.0339,4.25781);
draw_line(52.053482,4.257212,52.0403,4.25845);
draw_line(52.102088,4.27363,52.0907,4.2576);
draw_line(52.102088,4.27363,52.1047,4.27118);
draw_line(52.102088,4.27363,52.1072,4.27416);
draw_line(52.102088,4.27363,52.1103,4.28833);
draw_line(52.102088,4.27363,52.107,4.27274);
draw_line(52.102088,4.27363,52.0762,4.24231);
draw_line(52.102088,4.27363,52.0798,4.26836);
draw_line(52.102088,4.27363,52.1046,4.27005);
draw_line(52.102088,4.27363,52.1043,4.28016);
draw_line(52.102088,4.27363,52.093,4.28122);
draw_line(52.102088,4.27363,52.0905,4.27716);
draw_line(52.102088,4.27363,52.0905,4.27716);
draw_line(52.102088,4.27363,52.0919,4.26956);
draw_line(52.102088,4.27363,52.0767,4.29063);
draw_line(52.102088,4.27363,52.093,4.26223);
draw_line(52.102088,4.27363,52.107,4.27274);
draw_line(52.102088,4.27363,52.075,4.25848);
draw_line(52.102088,4.27363,52.107,4.27274);
draw_line(51.998991,4.328515,52.0046,4.33421);
draw_line(51.998991,4.328515,51.9946,4.3478);
draw_line(51.998991,4.328515,51.9999,4.33078);
draw_line(51.934837,4.27029,51.9371,4.27042);
draw_line(51.934837,4.27029,51.9326,4.27827);
draw_line(51.934837,4.27029,51.9508,4.27519);

// Naaldwijk
draw_line(51.990647,4.202112,52.0055,4.23233);
draw_line(51.990647,4.202112,51.981,4.18039);
//draw_line(51.990647,4.202112,52.0798,4.26978);
draw_line(51.990647,4.202112,51.9911,4.2158);
draw_line(51.990647,4.202112,51.9959,4.20748);
draw_line(51.990647,4.202112,51.9892,4.21474);
                
//Honselersdijk
draw_line(52.009062,4.220678,52.0112,4.21681);
draw_line(52.009062,4.220678,52.0047,4.23352);
draw_line(52.009062,4.220678,52.0239,4.22401);
//draw_line(52.009062,4.220678,52.0728,4.25961);
draw_line(52.009062,4.220678,52.0067,4.24163);
draw_line(52.009062,4.220678,52.0066,4.2352);
draw_line(52.009062,4.220678,51.9983,4.21988);
draw_line(52.009062,4.220678,52.0074,4.22982);
draw_line(52.009062,4.220678,52.0079,4.22957);
draw_line(52.009062,4.220678,52.0059,4.22981);
draw_line(52.009062,4.220678,52.0253,4.2722);
draw_line(52.009062,4.220678,51.987,4.26321);
draw_line(52.009062,4.220678,52.0266,4.26574);
                
draw_line(51.96077,4.207633,51.9577,4.21766);
draw_line(51.96077,4.207633,51.9553,4.22318);
draw_line(51.96077,4.207633,51.9613,4.20837);
draw_line(51.96077,4.207633,51.9598,4.22285);
                
// Monster
//draw_line(52.021847,4.180934,52.0045,4.36504);
draw_line(52.021847,4.180934,52.0238,4.16586);
draw_line(52.021847,4.180934,52.0186,4.1707);
draw_line(52.021847,4.180934,52.0225,4.16481);
draw_line(52.021847,4.180934,52.0225,4.16481);
                
// De Lier
draw_line(51.972754,4.25453,51.9748,4.25315);
draw_line(51.972754,4.25453,51.976,4.24081);
draw_line(51.972754,4.25453,51.976,4.24079);
draw_line(51.972754,4.25453,51.9792,4.24038);
draw_line(51.972754,4.25453,51.9737,4.2462);
draw_line(51.972754,4.25453,51.98,4.24272);
                
draw_line(51.996098,4.178567,52.0027,4.16573);
draw_line(51.996098,4.178567,52.0024,4.17487);
draw_line(51.996098,4.178567,51.9964,4.16021);
draw_line(51.996098,4.178567,52.0012,4.16522);
draw_line(51.996098,4.178567,52.0014,4.16232);
draw_line(52.022115,4.275502,52.0301,4.28294);
draw_line(52.022115,4.275502,52.0206,4.29017);
draw_line(52.022115,4.275502,52.0194,4.28296);
draw_line(52.022115,4.275502,52.0318,4.28314);
draw_line(52.022115,4.275502,52.0393,4.28134);
draw_line(52.022115,4.275502,52.0314,4.28766);
draw_line(52.022115,4.275502,52.0235,4.29973);
draw_line(52.022115,4.275502,52.0326,4.28598);
draw_line(52.022115,4.275502,52.0393,4.28134);
draw_line(52.022115,4.275502,52.0324,4.27596);
draw_line(52.022115,4.275502,52.0393,4.28134);
draw_line(52.022115,4.275502,52.034,4.27442);
draw_line(52.022115,4.275502,52.0285,4.27696);
draw_line(52.022115,4.275502,52.0563,4.30259);
draw_line(52.022115,4.275502,52.0283,4.31459);
draw_line(52.022115,4.275502,52.0269,4.29785);
                
draw_line(52.003719,4.351467,52.0054,4.37787);
draw_line(52.003719,4.351467,52.0174,4.36102);
draw_line(52.003719,4.351467,52.0106,4.34948);
draw_line(52.003719,4.351467,51.9799,4.34223);
draw_line(52.003719,4.351467,51.9803,4.34162);
draw_line(52.003719,4.351467,52.0705,4.3007);
draw_line(52.003719,4.351467,51.984,4.36263);
draw_line(52.003719,4.351467,52.0148,4.34259);
draw_line(52.003719,4.351467,52.0155,4.36982);
draw_line(52.003719,4.351467,52.0477,4.33015);
draw_line(52.003719,4.351467,52.0156,4.37005);
draw_line(52.003719,4.351467,51.9911,4.34274);
draw_line(52.003719,4.351467,52.0109,4.3753);
draw_line(52.003719,4.351467,52.0507,4.33543);
draw_line(52.003719,4.351467,52.0138,4.34358);
draw_line(52.003719,4.351467,52.0184,4.3553);
draw_line(52.003719,4.351467,51.9883,4.36117);
draw_line(52.003719,4.351467,51.9997,4.35119);
draw_line(52.003719,4.351467,52.0222,4.35224);
draw_line(52.003719,4.351467,51.995,4.35713);
draw_line(52.003719,4.351467,52.0798,4.39961);
//draw_line(52.003719,4.351467,50.8978,5.51612);
draw_line(52.003719,4.351467,51.9926,4.3665);
draw_line(52.003719,4.351467,52.0406,4.36632);
draw_line(52.003719,4.351467,51.9959,4.35697);
draw_line(52.003719,4.351467,52.0239,4.35684);
draw_line(52.003719,4.351467,52.0705,4.3007);
draw_line(52.003719,4.351467,51.9931,4.34671);
draw_line(52.003719,4.351467,52.0062,4.38998);
draw_line(52.003719,4.351467,51.9986,4.35855);
draw_line(52.003719,4.351467,51.983,4.3407);
draw_line(52.003719,4.351467,52.0014,4.36225);
draw_line(52.003719,4.351467,51.9784,4.33846);
      
// Pijnacker
draw_line(52.019677,4.425876,52.0035,4.44287);
draw_line(52.019677,4.425876,51.9989,4.32974);
draw_line(52.019677,4.425876,52.0035,4.3945);
draw_line(52.019677,4.425876,52.0009,4.39571);
draw_line(52.019677,4.425876,52.0309,4.38527);
draw_line(52.019677,4.425876,52.0607,4.49403);
draw_line(52.019677,4.425876,52.0055,4.44029);
draw_line(52.019677,4.425876,52.0705,4.3007);
draw_line(52.019677,4.425876,52.037,4.38532);
draw_line(52.019677,4.425876,52.0705,4.3007);
draw_line(52.019677,4.425876,52.0126,4.37436);
draw_line(52.019677,4.425876,52.0094,4.45212);
draw_line(52.019677,4.425876,52.0454,4.40595);
draw_line(52.019677,4.425876,52.0109,4.38103);
draw_line(52.019677,4.425876,51.9981,4.39244);
draw_line(52.019677,4.425876,52.0263,4.42781);
draw_line(52.019677,4.425876,52.0705,4.3007);                
draw_line(52.019677,4.425876,51.9989,4.32974);
draw_line(52.019677,4.425876,52.0062,4.39007);
draw_line(52.019677,4.425876,52.0705,4.3007);
draw_line(52.019677,4.425876,52.0705,4.3007);
//draw_line(52.019677,4.425876,52.0018,4.24604);
draw_line(52.019677,4.425876,52.0061,4.37496);
draw_line(52.019677,4.425876,52.0239,4.42548);
draw_line(52.019677,4.425876,52.0042,4.39229);                
draw_line(52.019677,4.425876,52.0798,4.39961);
draw_line(52.019677,4.425876,52.0534,4.31605);
draw_line(52.019677,4.425876,52.0366,4.30527);
draw_line(52.019677,4.425876,52.0881,4.37628);
draw_line(52.019677,4.425876,52.0156,4.41697);
draw_line(52.019677,4.425876,52.0468,4.38907);
draw_line(52.019677,4.425876,52.0075,4.44921);
                
draw_line(52.088083,4.376282,52.0763,4.38882);
draw_line(52.088083,4.376282,52.096,4.40145);
draw_line(52.088083,4.376282,52.0828,4.36183);
draw_line(52.088083,4.376282,52.0416,4.49796);
draw_line(52.088083,4.376282,52.0862,4.34138);
draw_line(52.088083,4.376282,52.0812,4.38639);
draw_line(52.088083,4.376282,52.0692,4.36135);
draw_line(52.088083,4.376282,52.0759,4.36123);
draw_line(52.088083,4.376282,52.0476,4.40412);
draw_line(52.088083,4.376282,52.0717,4.40673);
draw_line(52.088083,4.376282,52.0751,4.39037);
draw_line(52.088083,4.376282,52.0476,4.40412);
draw_line(52.088083,4.376282,52.1488,4.40933);
draw_line(52.088083,4.376282,52.0933,4.42449);
draw_line(52.088083,4.376282,52.0929,4.38951);
draw_line(52.088083,4.376282,52.0979,4.36246);
draw_line(52.088083,4.376282,52.0926,4.36112);
draw_line(52.088083,4.376282,52.0759,4.36123);
draw_line(52.088083,4.376282,52.0798,4.39961);
draw_line(52.088083,4.376282,52.0924,4.40234);
draw_line(52.088083,4.376282,52.0648,4.35992);
draw_line(52.088083,4.376282,52.0751,4.39037);
draw_line(52.088083,4.376282,52.0869,4.39109);
draw_line(52.088083,4.376282,52.0938,4.38793);
draw_line(52.088083,4.376282,52.0793,4.35363);
draw_line(52.088083,4.376282,52.0801,4.40099);
draw_line(52.088083,4.376282,52.0883,4.35211);
draw_line(52.088083,4.376282,52.0749,4.37458);
draw_line(52.088083,4.376282,52.0938,4.38793);
draw_line(52.046561,4.333806,52.0386,4.36934);
draw_line(52.046561,4.333806,52.0432,4.32867);
draw_line(52.046561,4.333806,52.0388,4.29537);
draw_line(52.046561,4.333806,52.0333,4.36236);
draw_line(52.046561,4.333806,52.0594,4.33411);
draw_line(52.046561,4.333806,52.0512,4.3033);
draw_line(52.046561,4.333806,52.0482,4.33253);
draw_line(52.046561,4.333806,52.051,4.33519);
draw_line(52.046561,4.333806,52.0548,4.33146);
draw_line(52.046561,4.333806,52.0343,4.36844);
draw_line(52.046561,4.333806,52.0373,4.32095);
draw_line(52.046561,4.333806,52.0327,4.3237);
draw_line(52.046561,4.333806,52.0193,4.29715);
draw_line(52.046561,4.333806,52.0493,4.3835);
draw_line(52.046561,4.333806,52.052,4.30599);
draw_line(52.046561,4.333806,52.0465,4.34245);
draw_line(52.046561,4.333806,52.0405,4.32965);
draw_line(52.046561,4.333806,52.0586,4.32097);
draw_line(52.046561,4.333806,52.0586,4.32097);
draw_line(52.046561,4.333806,52.061,4.37454);
draw_line(52.046561,4.333806,52.0367,4.30792);
draw_line(52.046561,4.333806,52.0074,4.35223);
draw_line(52.046561,4.333806,52.0317,4.29828);
draw_line(52.046561,4.333806,52.0493,4.3835);
draw_line(52.046561,4.333806,52.029,4.30962);
draw_line(52.046561,4.333806,52.0199,4.30169);
draw_line(52.046561,4.333806,52.0322,4.29344);
draw_line(52.046561,4.333806,52.0655,4.35442);
draw_line(52.046561,4.333806,52.0318,4.32327);
draw_line(52.046561,4.333806,52.0376,4.30492);
draw_line(52.046561,4.333806,52.0448,4.34273);
draw_line(52.046561,4.333806,52.0448,4.34273);
draw_line(52.046561,4.333806,52.0362,4.29996);
draw_line(52.046561,4.333806,52.0576,4.32884);
draw_line(52.046561,4.333806,52.0331,4.31991);
draw_line(52.046561,4.333806,52.0304,4.29962);
draw_line(52.046561,4.333806,52.0504,4.33283);
draw_line(52.14514,4.398264,52.1451,4.41746);
draw_line(52.14514,4.398264,52.1484,4.4126);
draw_line(52.14514,4.398264,52.149,4.41517);
draw_line(52.14514,4.398264,52.1344,4.39012);
draw_line(52.14514,4.398264,52.149,4.41281);
draw_line(52.054025,4.52669,52.0577,4.47703);
draw_line(52.054025,4.52669,52.0344,4.48427);
draw_line(52.054025,4.52669,52.0334,4.47928);
draw_line(52.054025,4.52669,52.0601,4.474);
draw_line(52.054025,4.52669,52.0508,4.5084);
draw_line(52.054025,4.52669,52.0388,4.48675);
draw_line(52.054025,4.52669,52.0335,4.48268);
draw_line(52.054025,4.52669,52.0764,4.51481);
draw_line(52.054025,4.52669,52.0678,4.5163);
draw_line(52.054025,4.52669,52.0654,4.54169);
draw_line(52.054025,4.52669,52.0403,4.50126);
draw_line(52.054025,4.52669,52.0619,4.51587);
draw_line(52.054025,4.52669,52.0569,4.50899);
draw_line(52.054025,4.52669,52.0785,4.52292);
draw_line(52.054025,4.52669,52.0613,4.54397);
draw_line(52.054025,4.52669,52.0599,4.5151);
draw_line(52.054025,4.52669,52.0747,4.52317);
draw_line(52.054025,4.52669,52.0625,4.54851);
draw_line(52.054025,4.52669,52.0519,4.5055);
draw_line(52.054025,4.52669,52.0423,4.48919);
draw_line(52.054025,4.52669,52.0424,4.49544);
draw_line(52.054025,4.52669,52.0688,4.48411);
draw_line(52.054025,4.52669,52.0755,4.5163);
draw_line(52.054025,4.52669,52.0755,4.5163);
draw_line(52.054025,4.52669,52.0611,4.53154);
draw_line(52.054025,4.52669,52.054,4.52669);
draw_line(52.054025,4.52669,52.0576,4.55162);
draw_line(52.054025,4.52669,52.0347,4.49342);
draw_line(52.054025,4.52669,52.0554,4.53585);
draw_line(52.054025,4.52669,52.068,4.47626);
draw_line(52.054025,4.52669,52.0774,4.52633);
draw_line(52.054025,4.52669,52.0339,4.48149);
draw_line(52.054025,4.52669,52.0599,4.48063);
draw_line(52.054025,4.52669,52.0562,4.53988);
draw_line(52.054025,4.52669,52.055,4.53789);
draw_line(52.054025,4.52669,52.0239,4.42548);
draw_line(52.054025,4.52669,52.0377,4.48857);
draw_line(52.054025,4.52669,52.0785,4.52292);
draw_line(52.054025,4.52669,52.0547,4.53994);
draw_line(52.062057,4.487701,52.068,4.47256);
draw_line(52.062057,4.487701,52.0583,4.49941);
draw_line(52.062057,4.487701,52.0684,4.50898);
draw_line(52.062057,4.487701,52.0612,4.48827);
draw_line(52.062057,4.487701,52.0689,4.49958);
draw_line(52.062057,4.487701,52.0621,4.50819);
draw_line(52.062057,4.487701,52.062,4.51022);
draw_line(52.062057,4.487701,52.0705,4.3007);
draw_line(52.062057,4.487701,52.0434,4.4764);
draw_line(52.062057,4.487701,52.0371,4.47868);
draw_line(52.062057,4.487701,52.0568,4.46716);
draw_line(52.062057,4.487701,52.0645,4.47488);
draw_line(52.062057,4.487701,52.0645,4.47488);
draw_line(52.062057,4.487701,52.0697,4.51017);
draw_line(52.062057,4.487701,52.0554,4.48754);
draw_line(52.062057,4.487701,52.0643,4.47915);
draw_line(52.062057,4.487701,52.0959,4.45269);
draw_line(52.062057,4.487701,52.0752,4.52418);
draw_line(52.062057,4.487701,52.0782,4.51377);
draw_line(52.062057,4.487701,52.0353,4.47844);
draw_line(52.062057,4.487701,52.0716,4.50939);
draw_line(52.062057,4.487701,52.0681,4.50349);
draw_line(52.062057,4.487701,52.0388,4.48675);
draw_line(52.062057,4.487701,52.0688,4.49495);
draw_line(52.062057,4.487701,52.042,4.4752);
draw_line(52.062057,4.487701,52.0566,4.45881);
draw_line(52.062057,4.487701,52.0654,4.51047);
draw_line(52.062057,4.487701,52.0554,4.53585);
draw_line(52.062057,4.487701,52.0702,4.51499);
draw_line(52.062057,4.487701,52.0731,4.51032);
draw_line(52.062057,4.487701,52.0674,4.45902);
draw_line(52.062057,4.487701,52.062,4.5103);
draw_line(52.062057,4.487701,52.0699,4.47866);
draw_line(52.062057,4.487701,52.0955,4.46778);
draw_line(52.062057,4.487701,52.0447,4.45952);
draw_line(52.062057,4.487701,52.0377,4.4766);
draw_line(52.062057,4.487701,52.0644,4.47873);
draw_line(52.062057,4.487701,52.0644,4.47873);
draw_line(52.062057,4.487701,52.0633,4.5372);
draw_line(52.062057,4.487701,52.0575,4.4038);
draw_line(52.062057,4.487701,52.059,4.5399);
draw_line(52.062057,4.487701,52.0339,4.48149);
draw_line(52.062057,4.487701,52.0643,4.47306);
draw_line(52.062057,4.487701,52.056,4.47679);
draw_line(52.062057,4.487701,52.0716,4.50939);
draw_line(52.062057,4.487701,52.0645,4.47488);
draw_line(52.062057,4.487701,52.0583,4.49964);
draw_line(52.062057,4.487701,52.0579,4.46946);
draw_line(52.062057,4.487701,52.0699,4.47866);
draw_line(52.062057,4.487701,52.0689,4.49958);
draw_line(52.062057,4.487701,52.0684,4.47382);
draw_line(52.062057,4.487701,52.0785,4.52292);


        }
       
        function draw_particle(lat, lon, particle_material , z) {
            
            if(z===undefined) 
                var z = 0;
            
            var particles = new THREE.Geometry;
            var particleSystem = new THREE.ParticleSystem(
                particles, particle_material);
           
            var xy = latlon_to_xy(lat,lon);
            var particle = new THREE.Vector3(xy[0],z,-xy[1]);
            particles.vertices.push(particle);
            
            scene.add(particleSystem);
            
            return xy;
        }

$(function (){ 
    init();
    animate();
});